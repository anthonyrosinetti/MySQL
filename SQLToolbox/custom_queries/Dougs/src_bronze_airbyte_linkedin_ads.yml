version: 2

sources:
  - name: bronze_airbyte_linkedin_ads
    description: Raw data from LinkedIn Ads sent via Airbyte within BigQuery
    database: data-production-398108
    schema: bronze_airbyte_linkedin_ads
    config:
      freshness:
        warn_after: { count: 24, period: hour }
        error_after: { count: 48, period: hour }
    loaded_at_field: _airbyte_extracted_at

    tables:
      - name: ad_campaign_analytics
        description: Daily LinkedIn Ads statistics at the campaign granularity
        columns:
          - name: start_date
            description: Date of the statistics (required)
            tests:
              - not_null
          - name: sponsoredCampaign
            description: ID of the campaign (required)
            tests:
              - not_null
          - name: impressions
            description: Volume of impressions on the specific campaign and day
          - name: clicks
            description: Volume of clicks on the specific campaign and day
          - name: costInLocalCurrency
            description: Budget spent on the specific campaign and day, in the account currency (EUR for Dougs)
      - name: ad_creative_analytics
        description: Daily LinkedIn Ads statistics at the creative granularity
        columns:
          - name: start_date
            description: Date of the statistics (required)
            tests:
              - not_null
          - name: sponsoredCreative
            description: ID of the creative (required)
            tests:
              - not_null
          - name: impressions
            description: Volume of impressions on the specific creative and day
          - name: clicks
            description: Volume of clicks on the specific creative and day
          - name: costInLocalCurrency
            description: Budget spent on the specific creative and day, in the account currency (EUR for Dougs)
      - name: campaigns
        description: Attributes of the LinkedIn Ads campaigns
        columns:
          - name: account
            description: URN (including ressource type and id) of the account which contains the campaign (required)
            tests:
              - not_null
          - name: campaignGroup
            description: URN (including ressource type and id) of the campaign group which contains the campaign (required)
            tests:
              - not_null
          - name: id
            description: Identifier of the campaign (required)
            tests:
              - not_null
          - name: name
            description: Name of the campaign
      - name: campaign_groups
        description: Attributes of the LinkedIn Ads campaign groups
        columns:
          - name: account
            description: URN (including ressource type and id) of the account which contains the campaign group (required)
            tests:
              - not_null
          - name: id
            description: Identifier of the campaign group (required)
            tests:
              - not_null
          - name: name
            description: Name of the campaign group
      - name: creatives
        description: Attributes of the LinkedIn Ads creatives
        columns:
          - name: account
            description: URN (including ressource type and id) of the account which contains the creative (required)
            tests:
              - not_null
          - name: campaign
            description: URN (including ressource type and id) of the campaign which contains the creative (required)
            tests:
              - not_null
          - name: id
            description: Identifier of the creative (required)
            tests:
              - not_null
          - name: name
            description: Name of the creative

models:
  - name: stg_linkedin_ads_ad_campaign_analytics
    description: Daily LinkedIn Ads statistics at the campaign granularity
    columns:
      - name: timestamp_last_refresh
        description: Timestamp at which the data was refreshed (required)
        tests:
          - not_null
      - name: date_report
        description: Date of the statistics (required)
        tests:
          - not_null
      - name: campaign_id
        description: ID of the campaign (required)
        tests:
          - not_null
      - name: impressions
        description: Volume of impressions on the specific campaign and day
      - name: clicks
        description: Volume of clicks on the specific campaign and day
      - name: spend
        description: Budget spent on the specific campaign and day, in the account currency (EUR for Dougs)

  - name: stg_linkedin_ads_campaigns
    description: Attributes of the LinkedIn Ads campaigns
    columns:
      - name: timestamp_last_refresh
        description: Timestamp at which the data was refreshed
        tests:
          - not_null
      - name: account_urn
        description: URN (including ressource type and id) of the account which contains the campaign (required)
        tests:
          - not_null
      - name: campaign_group_urn
        description: URN (including ressource type and id) of the campaign group which contains the campaign (required)
        tests:
          - not_null
      - name: campaign_id
        description: Identifier of the campaign (required)
        tests:
          - not_null
      - name: campaign_name
        description: Name of the campaign

  - name: stg_linkedin_ads_campaign_groups
    description: Attributes of the LinkedIn Ads campaign groups
    columns:
      - name: timestamp_last_refresh
        description: Timestamp at which the data was refreshed
        tests:
          - not_null
      - name: account_urn
        description: URN (including ressource type and id) of the account which contains the campaign group (required)
        tests:
          - not_null
      - name: campaign_group_id
        description: Identifier of the campaign group (required)
        tests:
          - not_null
      - name: campaign_group_name
        description: Name of the campaign group

  - name: stg_linkedin_ads_ad_creative_analytics
    description: Daily LinkedIn Ads statistics at the creative granularity
    columns:
      - name: timestamp_last_refresh
        description: Timestamp at which the data was refreshed (required)
        tests:
          - not_null
      - name: date_report
        description: Date of the statistics (required)
        tests:
          - not_null
      - name: creative_id
        description: ID of the creative (required)
        tests:
          - not_null
      - name: impressions
        description: Volume of impressions on the specific campaign and day
      - name: clicks
        description: Volume of clicks on the specific campaign and day
      - name: spend
        description: Budget spent on the specific campaign and day, in the account currency (EUR for Dougs)

  - name: stg_linkedin_ads_creatives
    description: Attributes of the LinkedIn Ads creatives
    columns:
      - name: timestamp_last_refresh
        description: Timestamp at which the data was refreshed
        tests:
          - not_null
      - name: account_urn
        description: URN (including ressource type and id) of the account which contains the creative (required)
        tests:
          - not_null
      - name: campaign_urn
        description: URN (including ressource type and id) of the campaign which contains the creative (required)
        tests:
          - not_null
      - name: creative_urn
        description: URN (including ressource type and id) of the creative (required)
        tests:
          - not_null
      - name: creative_name
        description: Name of the creative
